# üéµ Spotify Redirect URI Fix

## üö® Problem
Your Spotify app has `INVALID_CLIENT: Invalid redirect URI` because the redirect URI generated by Expo doesn't match what's configured in your Spotify Developer Dashboard.

## ‚úÖ Solution: Add These Redirect URIs

Go to [Spotify Developer Dashboard](https://developer.spotify.com/dashboard) and add **ALL** of these redirect URIs to your "Music Alarm" app:

### Required Redirect URIs:
```
http://localhost:8081
https://localhost:8081
exp://localhost:8081
exp://192.168.1.100:8081
exp://10.0.0.100:8081
music-alarm://redirect
music-alarm://
https://auth.expo.io/@anonymous/music-alarm
https://u.expo.dev/update/music-alarm
```

## üìù Step-by-Step Instructions:

1. **Open Spotify Developer Dashboard**
   - Go to https://developer.spotify.com/dashboard
   - Log in with your Spotify account

2. **Find Your App**
   - Look for your "Music Alarm" app (Client ID: `4d3403d77aee43e181e173c926ecc4d3`)
   - Click on it

3. **Edit Settings**
   - Click the "Settings" button
   - Scroll down to "Redirect URIs"

4. **Add ALL Redirect URIs**
   - Copy each URI from the list above
   - Paste them one by one into the "Redirect URIs" field
   - Click "Add" after each one

5. **Save Changes**
   - Click "Save" at the bottom
   - Wait for confirmation

## üîß Alternative: Create New Spotify App

If you don't have access to modify the existing app, create a new one:

1. **Create New App**
   - Go to https://developer.spotify.com/dashboard
   - Click "Create an App"
   - Name: "Music Alarm Dev"
   - Description: "Alarm app with Spotify integration"

2. **Get New Client ID**
   - Copy the new Client ID

3. **Add All Redirect URIs** (from list above)

4. **Update the app**
   - Edit `src/services/SpotifyService.ts`
   - Replace the Client ID:
   ```typescript
   const SPOTIFY_CLIENT_ID = 'your_new_client_id_here';
   ```

## üß™ Test Again

After adding the redirect URIs:
1. Restart your Expo app (`npm start`)
2. Go to Settings ‚Üí Connect Spotify
3. Should now successfully complete OAuth flow

## üí° Why This Happens

Expo generates different redirect URIs depending on:
- Development vs production
- Tunnel vs LAN vs localhost
- iOS vs Android
- Expo Go vs development build

Adding all the URIs ensures it works in all scenarios!

---

**Next Step**: Add those redirect URIs to your Spotify app, then test the authentication again!